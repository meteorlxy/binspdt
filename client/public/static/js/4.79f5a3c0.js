(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{171:function(e,t,i){},172:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i(1);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=e.response;if(r){if("function"==typeof t)return t(r);if(e.notify)return a.a.notify(e.notify)}if("function"==typeof i)return i(e);throw e}},175:function(e,t,i){"use strict";var a=i(171);i.n(a).a},176:function(e,t,i){},184:function(e,t,i){"use strict";i(166);var a={name:"LoginInput",props:{autocomplete:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},feedbackInvalid:{type:[String,Boolean],required:!1,default:!1},feedbackValid:{type:[String,Boolean],required:!1,default:!1},icon:{type:[String,Boolean,Array],required:!1,default:!1},isInvalid:{type:Boolean,required:!1,default:!1},isValid:{type:Boolean,required:!1,default:!1},name:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:""},type:{type:String,required:!1,default:"text"},value:{type:[String,Number],required:!1,default:""}},methods:{updateValue:function(e){this.$emit("input",e.target.value)}}},r=i(4),n=Object(r.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group mb-3"},[i("input",{staticClass:"form-control",class:{"is-valid":e.isValid,"is-invalid":e.isInvalid},attrs:{autocomplete:e.autocomplete,disabled:e.disabled,name:e.name,placeholder:e.placeholder,type:e.type},domProps:{value:e.value},on:{input:e.updateValue,change:e.updateValue,blur:function(t){e.$emit("blur")},focus:function(t){e.$emit("focus")}}}),e._v(" "),i("div",{staticClass:"input-group-append"},[i("span",{staticClass:"input-group-text"},[e.icon?i("FaIcon",{attrs:{icon:e.icon}}):e._e()],1)]),e._v(" "),e.feedbackValid?i("div",{staticClass:"valid-feedback"},[e._v("\n    "+e._s(e.feedbackValid)+"\n  ")]):e._e(),e._v(" "),e.feedbackInvalid?i("div",{staticClass:"invalid-feedback"},[e._v("\n    "+e._s(e.feedbackInvalid)+"\n  ")]):e._e()])},[],!1,null,null,null);n.options.__file="LoginInput.vue";t.a=n.exports},185:function(e,t,i){"use strict";var a={name:"LoginLogo"},r=i(4),n=Object(r.a)(a,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"login-logo"},[this._t("default")],2)},[],!1,null,null,null);n.options.__file="LoginLogo.vue";t.a=n.exports},186:function(e,t,i){"use strict";var a={name:"LoginWrapper"},r=(i(175),i(4)),n=Object(r.a)(a,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"login-box"},[this._t("default")],2)},[],!1,null,null,null);n.options.__file="LoginWrapper.vue";t.a=n.exports},188:function(e,t,i){"use strict";var a={name:"LoginCard"},r=i(4),n=Object(r.a)(a,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card"},[t("div",{staticClass:"card-body login-card-body"},[t("p",{staticClass:"login-box-msg"},[this._t("message")],2),this._v(" "),this._t("default")],2)])},[],!1,null,null,null);n.options.__file="LoginCard.vue";t.a=n.exports},190:function(e,t,i){"use strict";var a=i(176);i.n(a).a},200:function(e,t,i){"use strict";i.r(t);i(55);var a=i(8),r=i(54),n=i(188),s=i(184),o=i(185),l=i(186),u=i(37),c=i(172),d={name:"Login",components:{LoginCard:n.a,LoginInput:s.a,LoginLogo:o.a,LoginWrapper:l.a},data:function(){return{loginForm:{username:"",password:""},isLoading:!1}},computed:{rememberMe:{get:function(){return this.$store.state.website.user.rememberMe},set:function(e){this.setRememberMe(e)}},isFormValid:function(){return!this.errors.any()}},methods:Object(r.a)({},Object(u.b)("website/user",["login"]),Object(u.c)("website/user",["setRememberMe"]),{handleLogin:function(){var e=Object(a.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validateAll();case 2:if(this.isFormValid){e.next=4;break}return e.abrupt("return",!1);case 4:return e.prev=4,this.isLoading=!0,e.next=8,this.login(this.loginForm);case 8:200===e.sent.status&&this.$router.push({path:this.$route.query.redirect||"/"},function(){t.$notify({type:"success",text:"Login Successfully."})}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),Object(c.a)(e.t0,function(i){401===i.status?t.$notify({type:"danger",title:"Login Failed",text:"Incorrect username or password."}):t.$notify(e.t0.notify)});case 15:return e.prev=15,this.isLoading=!1,e.finish(15);case 18:case"end":return e.stop()}},e,this,[[4,12,15,18]])}));return function(){return e.apply(this,arguments)}}()})},m=(i(190),i(4)),p=Object(m.a)(d,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("LoginWrapper",[i("LoginLogo",[i("router-link",{attrs:{to:{name:"home"}}},[i("b",[e._v("Bin")]),e._v("SPDT\n    ")])],1),e._v(" "),i("LoginCard",[i("span",{attrs:{slot:"message"},slot:"message"},[e._v("Sign in to BinSPDT")]),e._v(" "),i("LoginInput",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:3,max:30},expression:"{ required: true, min: 3, max: 30 }"}],attrs:{icon:"user",type:"text",name:"username",placeholder:"Username","is-valid":!Boolean(e.errors.first("username"))&&e.fields.username&&e.fields.username.validated&&e.fields.username.valid,"is-invalid":Boolean(e.errors.first("username")),"feedback-invalid":e.errors.first("username")},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}}),e._v(" "),i("LoginInput",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:8,max:30},expression:"{ required: true, min: 8, max: 30 }"}],ref:"password",attrs:{icon:"lock",type:"password",name:"password",placeholder:"Password","is-valid":!Boolean(e.errors.first("password"))&&e.fields.password&&e.fields.password.validated&&e.fields.password.valid,"is-invalid":Boolean(e.errors.first("password")),"feedback-invalid":e.errors.first("password")},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-8"},[i("div",{staticClass:"form-check"},[i("label",{staticClass:"form-check-label"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.rememberMe,expression:"rememberMe"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.rememberMe)?e._i(e.rememberMe,null)>-1:e.rememberMe},on:{change:function(t){var i=e.rememberMe,a=t.target,r=!!a.checked;if(Array.isArray(i)){var n=e._i(i,null);a.checked?n<0&&(e.rememberMe=i.concat([null])):n>-1&&(e.rememberMe=i.slice(0,n).concat(i.slice(n+1)))}else e.rememberMe=r}}}),e._v(" "),i("span",[e._v("\n              Remember me\n            ")])])])]),e._v(" "),i("div",{staticClass:"col-4"},[i("button",{staticClass:"btn btn-primary btn-block btn-flat",attrs:{disabled:!e.isFormValid||e.isLoading},on:{click:e.handleLogin}},[i("FaIcon",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"mr-2",attrs:{icon:"spinner",spin:""}}),e._v("\n          Sign In\n        ")],1)])]),e._v(" "),i("p",{staticClass:"text-center my-2"},[e._v("- OR -")]),e._v(" "),i("router-link",{staticClass:"d-block mb-1",attrs:{to:{name:"register"}}},[e._v("\n      I forgot my password\n    ")]),e._v(" "),i("router-link",{staticClass:"d-block",attrs:{to:{name:"register"}}},[e._v("\n      Register a new account\n    ")])],1)],1)},[],!1,null,null,null);p.options.__file="Login.vue";t.default=p.exports}}]);