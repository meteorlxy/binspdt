(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{171:function(e,a,r){},172:function(e,a,r){"use strict";r.d(a,"a",function(){return i});var t=r(1);function i(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=e.response;if(i){if("function"==typeof a)return a(i);if(e.notify)return t.a.notify(e.notify)}if("function"==typeof r)return r(e);throw e}},175:function(e,a,r){"use strict";var t=r(171);r.n(t).a},177:function(e,a,r){},184:function(e,a,r){"use strict";r(166);var t={name:"LoginInput",props:{autocomplete:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},feedbackInvalid:{type:[String,Boolean],required:!1,default:!1},feedbackValid:{type:[String,Boolean],required:!1,default:!1},icon:{type:[String,Boolean,Array],required:!1,default:!1},isInvalid:{type:Boolean,required:!1,default:!1},isValid:{type:Boolean,required:!1,default:!1},name:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:""},type:{type:String,required:!1,default:"text"},value:{type:[String,Number],required:!1,default:""}},methods:{updateValue:function(e){this.$emit("input",e.target.value)}}},i=r(4),s=Object(i.a)(t,function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"input-group mb-3"},[r("input",{staticClass:"form-control",class:{"is-valid":e.isValid,"is-invalid":e.isInvalid},attrs:{autocomplete:e.autocomplete,disabled:e.disabled,name:e.name,placeholder:e.placeholder,type:e.type},domProps:{value:e.value},on:{input:e.updateValue,change:e.updateValue,blur:function(a){e.$emit("blur")},focus:function(a){e.$emit("focus")}}}),e._v(" "),r("div",{staticClass:"input-group-append"},[r("span",{staticClass:"input-group-text"},[e.icon?r("FaIcon",{attrs:{icon:e.icon}}):e._e()],1)]),e._v(" "),e.feedbackValid?r("div",{staticClass:"valid-feedback"},[e._v("\n    "+e._s(e.feedbackValid)+"\n  ")]):e._e(),e._v(" "),e.feedbackInvalid?r("div",{staticClass:"invalid-feedback"},[e._v("\n    "+e._s(e.feedbackInvalid)+"\n  ")]):e._e()])},[],!1,null,null,null);s.options.__file="LoginInput.vue";a.a=s.exports},185:function(e,a,r){"use strict";var t={name:"LoginLogo"},i=r(4),s=Object(i.a)(t,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"login-logo"},[this._t("default")],2)},[],!1,null,null,null);s.options.__file="LoginLogo.vue";a.a=s.exports},186:function(e,a,r){"use strict";var t={name:"LoginWrapper"},i=(r(175),r(4)),s=Object(i.a)(t,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"login-box"},[this._t("default")],2)},[],!1,null,null,null);s.options.__file="LoginWrapper.vue";a.a=s.exports},188:function(e,a,r){"use strict";var t={name:"LoginCard"},i=r(4),s=Object(i.a)(t,function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-body login-card-body"},[a("p",{staticClass:"login-box-msg"},[this._t("message")],2),this._v(" "),this._t("default")],2)])},[],!1,null,null,null);s.options.__file="LoginCard.vue";a.a=s.exports},191:function(e,a,r){"use strict";var t=r(177);r.n(t).a},201:function(e,a,r){"use strict";r.r(a);r(55);var t=r(8),i=r(54),s=r(188),n=r(184),o=r(185),l=r(186),d=r(37),u=r(172),c={name:"Register",components:{LoginCard:s.a,LoginInput:n.a,LoginLogo:o.a,LoginWrapper:l.a},data:function(){return{registerForm:{username:"",email:"",password:"",passwordConfirm:""},isLoading:!1}},computed:{isFormValid:function(){return!this.errors.any()}},methods:Object(i.a)({},Object(d.b)("website/user",["register"]),{handleRegister:function(){var e=Object(t.a)(regeneratorRuntime.mark(function e(){var a,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validateAll();case 2:if(this.isFormValid){e.next=4;break}return e.abrupt("return",!1);case 4:return e.prev=4,this.isLoading=!0,e.next=8,this.register(this.registerForm);case 8:if(201!==(a=e.sent).status){e.next=13;break}this.$router.push({name:"login"},function(){r.$notify({type:"success",text:"Congratulations! You have already registered a new account. Now you can use it to login BinSPDT."})}),e.next=14;break;case 13:throw new Error("".concat(a.status," ").concat(a.statusText,": ").concat(a.data.message));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),Object(u.a)(e.t0,function(a){422===a.status&&a.data.errors.hasOwnProperty("username")?(r.$notify(Object(i.a)({},e.t0.notify,{text:"Username has already been token!"})),r.errors.add({field:"username",msg:"Username has already been token!"})):r.$notify(e.t0.notify)});case 19:return e.prev=19,this.isLoading=!1,e.finish(19);case 22:case"end":return e.stop()}},e,this,[[4,16,19,22]])}));return function(){return e.apply(this,arguments)}}()})},p=(r(191),r(4)),f=Object(p.a)(c,function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("LoginWrapper",[r("LoginLogo",[r("RouterLink",{attrs:{to:{name:"home"}}},[r("b",[e._v("Bin")]),e._v("SPDT\n    ")])],1),e._v(" "),r("LoginCard",[r("span",{attrs:{slot:"message"},slot:"message"},[e._v("Register a new account for BinSPDT")]),e._v(" "),r("LoginInput",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:3,max:30},expression:"{ required: true, min: 3, max: 30 }"}],attrs:{icon:"user",type:"text",name:"username",placeholder:"Username","is-valid":!Boolean(e.errors.first("username"))&&e.fields.username&&e.fields.username.validated&&e.fields.username.valid,"is-invalid":Boolean(e.errors.first("username")),"feedback-invalid":e.errors.first("username")},model:{value:e.registerForm.username,callback:function(a){e.$set(e.registerForm,"username",a)},expression:"registerForm.username"}}),e._v(" "),r("LoginInput",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,email:!0,max:128},expression:"{ required: true, email: true, max: 128 }"}],attrs:{icon:"envelope",type:"email",name:"email",placeholder:"Email","is-valid":!Boolean(e.errors.first("email"))&&e.fields.email&&e.fields.email.validated&&e.fields.email.valid,"is-invalid":Boolean(e.errors.first("email")),"feedback-invalid":e.errors.first("email")},model:{value:e.registerForm.email,callback:function(a){e.$set(e.registerForm,"email",a)},expression:"registerForm.email"}}),e._v(" "),r("LoginInput",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:8,max:30},expression:"{ required: true, min: 8, max: 30 }"}],ref:"password",attrs:{icon:"lock",type:"password",name:"password",placeholder:"Password","is-valid":!Boolean(e.errors.first("password"))&&e.fields.password&&e.fields.password.validated&&e.fields.password.valid,"is-invalid":Boolean(e.errors.first("password")),"feedback-invalid":e.errors.first("password")},model:{value:e.registerForm.password,callback:function(a){e.$set(e.registerForm,"password",a)},expression:"registerForm.password"}}),e._v(" "),r("LoginInput",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,confirmed:"password"},expression:"{ required: true, confirmed: 'password' }"}],attrs:{icon:"user-lock",type:"password",name:"passwordConfirm",placeholder:"Retype Password","data-vv-as":"retype password","is-valid":!Boolean(e.errors.first("passwordConfirm"))&&e.fields.passwordConfirm&&e.fields.passwordConfirm.validated&&e.fields.passwordConfirm.valid,"is-invalid":Boolean(e.errors.first("passwordConfirm")),"feedback-invalid":e.errors.first("passwordConfirm")},model:{value:e.registerForm.passwordConfirm,callback:function(a){e.$set(e.registerForm,"passwordConfirm",a)},expression:"registerForm.passwordConfirm"}}),e._v(" "),r("button",{staticClass:"btn btn-primary btn-block btn-flat",attrs:{disabled:!e.isFormValid||e.isLoading},on:{click:e.handleRegister}},[r("FaIcon",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"mr-2",attrs:{icon:"spinner",spin:""}}),e._v(" "),r("span",[e._v("Register")])],1),e._v(" "),r("p",{staticClass:"text-center my-2"},[e._v("- OR -")]),e._v(" "),r("RouterLink",{staticClass:"d-block",attrs:{to:{name:"login"}}},[e._v("\n      I already have an account\n    ")])],1)],1)},[],!1,null,null,null);f.options.__file="Register.vue";a.default=f.exports}}]);